id: cg-004-json-parser
name: JSON Configuration Parser
description: |
  Create a Python file named `config_parser.py` that contains a class `ConfigParser`
  with the following methods:

  1. `__init__(self, filepath)` - Initialize with a JSON file path
  2. `load(self)` - Load and parse the JSON file
  3. `get(self, key, default=None)` - Get a value by key, return default if not found
  4. `get_nested(self, *keys, default=None)` - Get a nested value using multiple keys

  The class should handle file not found and JSON parsing errors gracefully.
category: code_generation
difficulty: medium
timeout_secs: 180
expected_max_turns: 10
languages:
  - python
tags:
  - class
  - json
  - file-io
verifier:
  type: all
  verifiers:
    - type: file_exists
      path: config_parser.py
    - type: file_contains
      path: config_parser.py
      contains: "class ConfigParser"
    - type: test_command
      command: |
        python3 -c "
        import json
        from config_parser import ConfigParser

        # Create test config
        with open('test_config.json', 'w') as f:
            json.dump({'name': 'test', 'nested': {'key': 'value'}}, f)

        parser = ConfigParser('test_config.json')
        parser.load()
        assert parser.get('name') == 'test'
        assert parser.get('missing', 'default') == 'default'
        assert parser.get_nested('nested', 'key') == 'value'
        print('All tests passed!')
        "
